{% extends "base.html" %}

{% block title %}Dashboard - Transcription Bot{% endblock %}

{% block content %}
<h1 style="margin-bottom: 20px;">Dashboard</h1>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
        <h3 style="margin-bottom: 10px; font-size: 16px; opacity: 0.9;">Your Balance</h3>
        <p style="font-size: 36px; font-weight: bold;">{{ wallet.balance|default:0|floatformat:2 }} UZS</p>
    </div>

    <div style="background: #fff; border: 2px solid #667eea; padding: 30px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
        <h3 style="margin-bottom: 10px; font-size: 16px; color: #667eea;">Total Transcriptions</h3>
        <p style="font-size: 36px; font-weight: bold; color: #333;">{{ user.total_transcriptions }}</p>
    </div>

    <div style="background: #fff; border: 2px solid #764ba2; padding: 30px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
        <h3 style="margin-bottom: 10px; font-size: 16px; color: #764ba2;">Total Spent</h3>
        <p style="font-size: 36px; font-weight: bold; color: #333;">{{ user.total_spent|default:0|floatformat:2 }} UZS</p>
    </div>
</div>

<div style="background: #f8f9fa; padding: 30px; border-radius: 10px; margin-bottom: 30px;">
    <h2 style="margin-bottom: 20px;">Welcome, {{ user.first_name }}! 👋</h2>
    <p style="color: #666; margin-bottom: 20px;">
        You're logged in via the web interface. Your profile and balance are synchronized with the Telegram bot.
    </p>
    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
        <a href="/upload" class="btn">📤 Upload File</a>
        <a href="/transcriptions" class="btn btn-secondary">📝 View History</a>
    </div>
</div>

<div>
    <h2 style="margin-bottom: 20px;">Quick Info</h2>
    <div style="display: grid; gap: 15px;">
        <div style="background: #e8f4f8; padding: 20px; border-radius: 8px; border-left: 4px solid #667eea;">
            <strong>🎵 Audio Files:</strong> {{ settings.pricing.audio_price_per_min|floatformat:0 }} UZS per minute
        </div>
        <div style="background: #f3e8f8; padding: 20px; border-radius: 8px; border-left: 4px solid #764ba2;">
            <strong>🎬 Video Files:</strong> {{ settings.pricing.video_price_per_min|floatformat:0 }} UZS per minute
        </div>
        <div style="background: #f8f9e8; padding: 20px; border-radius: 8px; border-left: 4px solid #a8b46a;">
            <strong>📦 Max File Size:</strong> {{ settings.ai.max_file_size_mb }} MB
        </div>
    </div>
</div>
{% endblock %}
